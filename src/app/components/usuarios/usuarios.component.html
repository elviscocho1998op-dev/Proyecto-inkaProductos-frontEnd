<div class="container my-4" style="max-width: 1100px;">

    <h2 class="fw-bold text-primary mb-4">
      <i class="bi bi-people-fill me-2"></i> Gestión de Usuarios
    </h2>
  
    <!-- ===================== -->
    <!-- CREAR USUARIO -->
    <!-- ===================== -->
    <div class="card border-0 shadow-sm mb-4">
      <div class="card-body">
  
        <h5 class="fw-bold">
          <i class="bi bi-person-plus-fill me-2 text-success"></i>
          Crear Nuevo Usuario
        </h5>
  
        <div class="row g-3 mt-1">
  
          <div class="col-md-4">
            <label class="form-label small text-muted">Nombre</label>
            <input type="text" class="form-control rounded-3" placeholder="Ej: Juan Pérez"
                   [(ngModel)]="nuevo.nombre">
          </div>
  
          <div class="col-md-4">
            <label class="form-label small text-muted">Email</label>
            <input type="email" class="form-control rounded-3" placeholder="correo@empresa.com"
                   [(ngModel)]="nuevo.email">
          </div>
  
          <div class="col-md-4">
            <label class="form-label small text-muted">Contraseña</label>
            <input type="password" class="form-control rounded-3" placeholder="••••••••"
                   [(ngModel)]="nuevo.password">
          </div>
  
          <div class="col-md-3">
            <label class="form-label small text-muted">Rol Inicial</label>
            <select class="form-select rounded-3" [(ngModel)]="rolNuevo">
              <option value="ADMIN">ADMIN</option>
              <option value="USER">USER</option>
              <option value="TI">TI</option>
            </select>
          </div>
  
          <div class="col-md-3 d-flex align-items-end">
            <button class="btn btn-primary w-100 rounded-3 fw-semibold" (click)="crearUsuario()">
              Crear Usuario
            </button>
          </div>
  
        </div>
  
      </div>
    </div>
  
  
    <!-- ===================== -->
    <!-- LISTADO DE USUARIOS -->
    <!-- ===================== -->
    <div class="card shadow-sm border-0">
      <div class="card-body">
  
        <h5 class="fw-bold mb-3">
          <i class="bi bi-list-ul me-2 text-primary"></i>
          Usuarios Registrados
        </h5>
  
        <table class="table table-hover align-middle">
          <thead class="table-light">
            <tr>
              <th class="small text-muted">ID</th>
              <th class="small text-muted">Nombre</th>
              <th class="small text-muted">Email</th>
              <th class="small text-muted">Roles</th>
              <th class="small text-muted text-end">Acciones</th>
            </tr>
          </thead>
  
          <tbody>
            <tr *ngFor="let u of usuarios">
              <td>{{ u.usuarioId }}</td>
              <td>{{ u.nombre }}</td>
              <td>{{ u.email }}</td>
  
              <td>
                <span class="badge bg-secondary me-1"
                      *ngFor="let r of u.roles">
                  {{ r.nombre }}
                </span>
              </td>
  
              <td class="text-end">
  
                <!-- Asignar roles -->
                <button class="btn btn-sm btn-outline-primary me-1 rounded-pill px-3"
                        (click)="cambiarRol(u, 'ADMIN')">
                  ADMIN
                </button>
  
                <button class="btn btn-sm btn-outline-success me-1 rounded-pill px-3"
                        (click)="cambiarRol(u, 'USER')">
                  USER
                </button>
  
                <button class="btn btn-sm btn-outline-warning me-2 rounded-pill px-3"
                        (click)="cambiarRol(u, 'TI')">
                  TI
                </button>
  
                <!-- Eliminar -->
                <button class="btn btn-sm btn-outline-danger rounded-circle"
                        (click)="eliminar(u)">
                  <i class="bi bi-x-lg"></i>
                </button>
  
              </td>
            </tr>
          </tbody>
        </table>
  
      </div>
    </div>
  
  </div>
  